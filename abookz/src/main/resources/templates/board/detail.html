<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="~{fragments/head :: head}">
  <meta charset="UTF-8">
  <title>Title</title>

</head>
<body>
<div th:replace="~{fragments/header :: header}"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<br>
  <table border="1">
    <tr>
      <th>글번호</th>
      <td th:text="${board.id}"></td>
    </tr>
    <tr>
      <th>제목</th>
      <td th:text="${board.title}"></td>
    </tr>
    <tr>
      <th>작성자</th>
      <td th:text="${board.writer}"></td>
    </tr>
    <tr>
      <th>작성날짜</th>
      <td th:text="${board.createDate}"></td>
    </tr>
    <tr>
      <th>조회수</th>
      <td th:text="${board.hits}"></td>
    </tr>
    <tr>
      <th>내용</th>
      <td th:text="${board.contents}"></td>
    </tr>
    <tr>
      <td colspan="3" id="btns">
        <a th:href="@{/board/paging(page=${page})}">목록</a>
        <a th:if="${writer == board.writer}" th:href="@{|/board/update/${board.id}|}">수정</a>
        <div th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')') ? true : false}">
          <a th:if="${writer == board.writer}" th:href="@{|/board/delete/${board.id}|}">삭제</a>
        </div>
      </td>
    </tr>
  </table>
  <div id="boardCommentContainer" class="mx-auto">
    <div id="boardCommentList" th:attr="data-value=${board.id}"></div>

  </div>
  <div id="boardCommentWrite">
    <input type="hidden" id="boardCommentId" th:attr="id-value=${writer}">
    <textarea id="commentInput" rows="4" placeholder="댓글을 입력하세요.."></textarea>
    <button id="submitComment" onclick="insertComment()">댓글 작성</button>
  </div>

<div id ="pagingComment" class="pagingQueryDiv flex justify-center">
</div>
  <script src="/js/boardComment.js"></script>
  <div id="searchResults"></div>
  <script defer src="/js/index.js"></script>
</body>
</html>