<!DOCTYPE html>

<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:replace="~{fragments/head :: head}">
  <meta charset="UTF-8">
  <title>Title</title>

</head>

<body>
  <div th:replace="~{fragments/header :: header}" /><br>
  <div class="container" id="boardContainer">
    <div class="overflow-x-auto bg-white dark:bg-neutral-700">
      <table class="min-w-full text-left text-sm whitespace-nowrap" id="boardTable">
        <thead class="border-b-2 dark:border-neutral-600 border-t">
          <tr class="border-b dark:border-neutral-600">
            <th width="20%" scope="col" class="px-6 py-4 border-x dark:border-neutral-600">번호</th>
            <td width="30%" class="px-6 py-4 border-x dark:border-neutral-600" th:text="${board.id}"></td>
            <th width="20%" scope="col" class="px-6 py-4 border-x dark:border-neutral-600">작성일</th>
            <td width="30%" class="px-6 py-4 border-x dark:border-neutral-600" th:text="${board.createDate}"></td>
          </tr>
          <tr class="border-b dark:border-neutral-600">
            <th width="20%" scope="col" class="px-6 py-4 border-x dark:border-neutral-600">작성자</th>
            <td width="30%" class="px-6 py-4 border-x dark:border-neutral-600" th:text="${board.writer}"></td>
            <th width="20%" scope="col" class="px-6 py-4 border-x dark:border-neutral-600">조회수</th>
            <td width="30%" class="px-6 py-4 border-x dark:border-neutral-600" th:text="${board.hits}"></td>
          </tr>
          <tr class="border-b dark:border-neutral-600">
            <th width=20% class="px-6 py-4 border-x dark:border-neutral-600">제목</th>
            <td colspan="4" class="px-6 py-4 border-x dark:border-neutral-600" th:text="${board.title}"></td>
          </tr>
        </thead>
        <tbody class="border-b-2 dark:border-neutral-600 border-t">
          <tr class="border-b dark:border-neutral-600">
            <td colspan="4" height="200" valign="top" class="px-6 py-4 border-x dark:border-neutral-600">
              <pre style="white-space: pre-wrap; background-color: white; border:none"
                th:text="${board.contents}"></pre>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="text-center flex justify-end items-center space-x-3">
        <button class="btn btn-outline btn-info"
          th:onclick="|location.href='@{/board/paging(page=${page})}'|">목록</button>
        <button class="btn btn-outline btn-success" th:if="${writer == board.writer}"
          th:onclick="|location.href='@{|/board/update/${board.id}|}'|">수정</button>
        <button class="btn btn-outline btn-error" th:if="${writer == board.writer}"
          th:onclick="|location.href='@{|/board/delete/${board.id}|}'|">삭제</button>
      </div>
    </div>

    <div id="boardCommentContainer" class="mx-auto">
      <div id="boardCommentList" th:attr="data-value=${board.id}"></div>

    </div>
    <div id="boardCommentWrite">
      <input type="hidden" id="boardCommentId" th:attr="id-value=${writer}">
      <textarea id="commentInput" class="commentInput" rows="4" placeholder="댓글을 입력하세요.."></textarea>
      <button id="submitComment" onclick="insertComment()">댓글 작성</button>
    </div>

    <div id="pagingComment" class="pagingQueryDiv flex justify-center">
    </div>
    <script src="/js/boardComment.js"></script>
    <div id="searchResults"></div>
    <script defer src="/js/index.js"></script>
  </div>
</body>

</html>