<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}">
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div th:replace="~{fragments/header :: header}" /><br>


<div id="shelf_container">
<div id="shelf_left">
<hr class="shelfLeft_hr">
    <p class="bookShelves">내 서재들</p>
    <a href="/myshelf/tag/all" class="myShelf_" th:text="'전체(' + ${books.size()} + ')'">1</a>
    <br>
    <a href="/myshelf/tag/read" class="myShelf_" th:text="'읽은 책(' + ${read} + ')'">1</a>
    <br>
    <a href="/myshelf/tag/want" class="myShelf_" th:text="'읽고싶은 책(' + ${want} + ')'">1</a>
    <br>
    <a href="/myshelf/tag/current" class="myShelf_" th:text="'읽고있는 책(' + ${current} + ')'">1</a>
    <hr class="shelf_left_center">
    <p class="bookShelves">읽기 활동</p>
    <a href="#" class="myShelf_" th:text="'나의 리뷰(' + ${books.size()} + ')'">1</a>
    <br>
    <a href="#" class="myShelf_" th:text="'나의 메모(' + ${books.size()} + ')'">1</a>
    <br>
    <a href="#" class="myShelf_" th:text="'나의 챌린지(' + ${books.size()} + ')'">1</a>
    <br>
</div>
<div id="shelf_center">
    <hr class="myShelf_hr">
    <br>

    <table class="shelf_table">
        <thead>
        <tr class="shelf_tr">
            <th class="shelf_th" ># </th>
            <th class="shelf_th">이미지</th>
            <th class="shelf_th">제목</th>
            <th class="shelf_th">작가</th>
            <th class="shelf_th">페이지</th>
            <th class="shelf_th">서재</th>
            <th class="shelf_th">시작날짜</th>
            <th class="shelf_th">추가날짜</th>
            </tr>
        </thead>
        <tbody>
        <tr class="myShelf_tr" th:each="book : ${books}">
            <td class="shelf_th" th:text="${bookStat.count}">1</td>
            <td class="shelf_tdimg">
                <img class="cover_img" th:src="${book.cover}" alt="책이미지"></td>
 <td class="shelf_title" th:text="${#strings.contains(book.title, '(') ? #strings.substringBefore(book.title, '(') : #strings.contains(book.title, '-') ? #strings.substringBefore(book.title, '-') : book.title}">제목</td>
        <td class="shelf_author"   th:text="${#strings.substringBefore(book.author, '(')}">작가</td>
        <td class="shelf_page" th:text="${book.itemPage}">페이지</td>
            <td class="shelf_myShelf_read" th:text="${shelf[bookStat.index].tag == null ? '읽고싶은 책' : shelf[bookStat.index].tag.getKorean()}"></td>
            <div class="popup" th:attr="data-value=${shelf[bookStat.index].getId()}">
                <input type="radio" id="value1" name="stats" value="value1">
                <label for="value1">읽은 책</label><br>
                <input type="radio" id="value2" name="stats" value="value2">
                <label for="value2">읽고 싶은 책</label><br>
                <input type="radio" id="value3" name="stats" value="value3">
                <label for="value3">읽고 있는 책</label>
            </div>
            <td class="shelf_myShelf" th:text="${shelf[bookStat.index].startDate == null ? '미정' : shelf[bookStat.index].startDate}"></td>
            <td class="shelf_myShelf"  th:text="${#temporals.format(shelf[bookStat.index].addDate,('yyyy-MM-dd'))}"></td>
        </tr>
        </tbody>
    </table>
</div>
<div id="shelf_right">
</div>
    <script  src="/js/myShelf.js"></script>
</div>
<div id="searchResults"></div>
<script defer src="/js/index.js"></script>
</body>
</html>